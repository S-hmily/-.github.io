<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>å®å®å½“</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<meta name="description" content="å®å½“"/>
<meta name="keywords" content="å®å½“"/>

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<link rel="shortcut icon" href="https://s-hmily.github.io/favicon.ico">

<link rel="stylesheet" href="https://s-hmily.github.io/styles/main.css">

<!-- Modernizr JS -->
<script src="https://s-hmily.github.io/media/scripts/modernizr-2.6.2.min.js"></script>
<!-- FOR IE9 below -->
<!--[if lt IE 9]>
<scripts src="https://s-hmily.github.io/media/scripts/respond.min.js"></scripts>
<![endif]-->

<!-- Comment -->



<!-- katex -->
<!--<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet">-->

<link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.min.css" rel="stylesheet">



</head>
<body>
    <div id="fh5co-offcanvas">
    <a href="#!" class="fh5co-close-offcanvas js-fh5co-close-offcanvas">
        <span><i class="icon-cross3"></i> <span>Close</span></span>
    </a>
    <div class="fh5co-bio">
        <figure>
            <img src="https://s-hmily.github.io/images/avatar.png" alt="å®å®å½“"
                 class="img-responsive">
        </figure>
        <a href="https://s-hmily.github.io/post/about/"><h3 class="heading">ABOUT ME</h3></a>
        <h2>å®å®å½“</h2>
        <p>å®å½“</p>
        <ul class="fh5co-social">
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
        </ul>
    </div>

    <div class="fh5co-menu">

        <!-- æ ‡ç­¾ -->
        <div class="fh5co-box">
            <a href="https://s-hmily.github.io/tags/"><h3 class="heading">ğŸ‘‰æ ‡ç­¾</h3></a>
            <ul>
                
                    <li><a href="https://s-hmily.github.io/tag/lMYeCI_cf/">æœºå™¨å­¦ä¹ </a></li>
                
            </ul>
        </div>
    </div>
</div>

<header id="fh5co-header">
    <div class="container-fluid">
        <div class="row">
            <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
            <ul class="fh5co-social">
                
                    <li>
                        <a href="https://s-hmily.github.io"
                        
                        >
                            é¦–é¡µ
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives"
                        
                        >
                            å½’æ¡£
                        </a>
                    </li>
                
            </ul>
            <div class="col-lg-12 col-md-12 text-center">
                <h1 id="fh5co-logo">
                    <a href="https://s-hmily.github.io">å®å®å½“ </a>
                </h1>
            </div>
        </div>
    </div>
</header>


    <!--  <a href="#" class="fh5co-post-prev"><span>ğŸ‘ˆ Prev</span></a>-->
    <!--  <a href="#" class="fh5co-post-next"><span>Next ğŸ‘‰</span></a>-->

    <!-- ç­‰grideaå‡ºè‡ªå®šä¹‰é¡µé¢åŠŸèƒ½å†ä¼˜åŒ–ä¸€ä¸‹ -->
    
        <div class="container-fluid">
    <div class="row fh5co-post-entry single-entry">
        <article class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0">
            <figure class="animate-box">
                
                    <img src="https://s-hmily.github.io/post-images/pi-liang-ti-du-suan-fa-zai-xian-xing-hui-gui-zhong-de-ying-yong.JPG" alt="æ‰¹é‡æ¢¯åº¦ç®—æ³•åœ¨çº¿æ€§å›å½’ä¸­çš„åº”ç”¨" class="img-responsive">
                
            </figure>
            <span class="fh5co-meta animate-box">
                
                    <div class="tag-container">
                        
                            <a href="https://s-hmily.github.io/tag/lMYeCI_cf/" class="tag">æœºå™¨å­¦ä¹ , </a>
                        
                    </div>
                
            </span>
            <h2 class="fh5co-article-title animate-box">æ‰¹é‡æ¢¯åº¦ç®—æ³•åœ¨çº¿æ€§å›å½’ä¸­çš„åº”ç”¨</h2>
            <ol class="breadcrumb fh5co-meta fh5co-date animate-box" style="margin-bottom:0; background-color:#f8f9fa">
                <li>2020-07-14</li>
                <li>2556å­—</li>
                <li>11 min read</li>
            </ol>

            <div class="col-lg-12 col-lg-offset-0 col-md-12 col-md-offset-0 col-sm-12 col-sm-offset-0 col-xs-12 col-xs-offset-0 text-left content-article">
                <div class="row">
                    <div class="col-md-12 animate-box post-content">
                        <p> <p>é¦–å…ˆè¦æ˜ç™½æ¢¯åº¦ä¸‹é™ç®—æ³•æˆ‘ä»¬èƒ½å¹²ä»€ä¹ˆï¼Ÿä»€ä¹ˆæ—¶å€™å¯ä»¥ç”¨åˆ°æ¢¯åº¦ä¸‹é™ï¼Ÿ<br>
æˆ‘ä»¬å…ˆè¿›è¡Œä¸¤ä¸ªä¾‹å­ï¼Œä¸€ä¸ªäºŒç»´å‡½æ•°é—®é¢˜ï¼Œä¸€ä¸ªä¸‰ç»´çš„ç°å®é—®é¢˜ï¼š<br>
äºŒç»´å‡½æ•°ï¼šæ¯”å¦‚æˆ‘ä»¬è¦æ±‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200710201059245.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"><br>
ä¸‰ç»´ç°å®é—®é¢˜ï¼šä½ ç«™åœ¨ä¸€ä¸ªä¸€ä¸ªçš„å±±ä¸­ï¼Œä½ æƒ³è¦çš„å»è°·åº•ï¼Œé‚£æ€ä¹ˆæ ·åŠæ‰èƒ½æœ€å¿«çš„åˆ°è¾¾å±€éƒ¨è°·åº•å‘¢ï¼Ÿè¦æ²¿ç€å“ªä¸ªæ–¹å‘è¿›è¡Œèµ°åŠ¨å‘¢ï¼Ÿ<br>
ç„¶åå¸¦ç€é—®é¢˜å»æ€è€ƒæ¢¯åº¦ä¸‹é™ç®—æ³•ã€‚</p>
<p>é¦–å…ˆä½ ä¼šæœ‰ä¸€ä¸ªå‡½æ•°ï¼Œæ¯”å¦‚è¿™ä¸ªå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°çš„å‡½æ•°J(Î¸_1ï¼ŒÎ¸_2),æˆ‘ä»¬éœ€è¦ä¸€ç§ç®—æ³•å»æœ€å°åŒ–è¿™ä¸ªå‡½æ•°<br>
è¿™é‡Œæˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°æ¢¯åº¦ä¸‹é™ç®—æ³•ã€‚<br>
æ¢¯åº¦ä¸‹é™ç®—æ³•çš„æ­¥éª¤ï¼š<br>
1.æˆ‘ä»¬å¼€å§‹ä¼šæœ‰åˆå§‹æ•°å€¼Î¸_1ï¼ŒÎ¸_2ï¼Œä¸€èˆ¬æ¥è¯´è¿™ä¸¤ä¸ªæ•°å€¼ä¸ºå¤šå°‘æ²¡å…³ç³»ï¼Œä¸€èˆ¬å¯ä»¥ä¸º0<br>
2.å¯¹æŸå¤±å‡½æ•°æ±‚æ‰€æœ‰ Î¸ çš„åå¯¼ï¼ˆæ¢¯åº¦ï¼‰: âˆ‚J(Î¸)/âˆ‚Î¸_j<br>
3.ä½¿ç”¨æ ·æœ¬æ•°æ®æ›´æ–°å‡è®¾å‡½æ•°çš„ä¸åœçš„<strong>åŒæ—¶æ›´æ–°</strong>Î¸_1ï¼ŒÎ¸_2ï¼Œä¸€å®šè¦åŒæ—¶æ›´æ–°ï¼Œåè¾¹ä¼šè¯´ä¸ºä»€ä¹ˆè¦åŒæ—¶æ›´æ›´æ–°è¿™ä¸ªä¸¤ä¸ªå˜é‡ï¼Œæ›´æ–°çš„å‚æ•°å…¬å¼ä¸ºï¼š<img src="https://img-blog.csdnimg.cn/20200710204024907.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy">ï¼ˆÎ±æ˜¯ä¸ºæ›´æ–°æ­¥é•¿ï¼ˆè°ƒæ•´å‚æ•°çš„çµæ•åº¦ï¼Œçµæ•åº¦å¤ªé«˜å®¹æ˜“æŒ¯è¡ï¼Œçµæ•åº¦è¿‡ä½æ”¶æ•›ç¼“æ…¢ï¼‰ï¼‰<br>
4.ç›´åˆ°æ‰¾åˆ°Jå‡½æ•°çš„æœ€å°å€¼æˆ–è€…å±€éƒ¨æœ€å°å€¼</p>
<p><img src="https://img-blog.csdnimg.cn/20200710203319299.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MTc3OTYw,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"><br>
æ¯”å¦‚æˆ‘ä»¬åœ¨ä¸Šå›¾è¿™ä¸ªç‚¹ï¼Œæˆ‘æƒ³è¦å¿«é€Ÿä¸‹å±±ï¼Œæˆ‘è¦æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘ä¼šæ ¹æ®è¿™ä¸ªç‚¹çš„å˜åŒ–ç‡æœ€å¤§çš„æ–¹å‘ï¼ˆä¹Ÿå°±æ˜¯åå¯¼æ•°ï¼‰å‡ºå‘ï¼Œèµ°ä¸€æ­¥å°±å†åˆ¤æ–­ä¸€æ¬¡ï¼Œæœ€ç»ˆä¼šèµ°åˆ°ä¸‹å›¾æ‰€ç¤ºçš„åœ°æ–¹<img src="https://img-blog.csdnimg.cn/2020071020352572.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MTc3OTYw,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"><br>
ä½†æ˜¯æœ‰ä¸€ä¸ªæœ‰è¶£çš„äº‹æƒ…æˆ‘ä»¬ä¼šå‘ç°ï¼Œå¦‚æœæˆ‘ä»¬å¼€å§‹çš„ä½ç½®ä¸åŒçš„åˆ°ç»“æœä¼šä¸åŒï¼Œæ­£å¦‚ä¸‹å›¾æ‰€ç¤º<br>
<img src="https://img-blog.csdnimg.cn/20200710203616163.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MTc3OTYw,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"><br>
è¿™å°±æ˜¯æ¢¯åº¦ä¸‹é™ç®—æ³•çš„ç‰¹ç‚¹ï¼Œå¯ä»¥å°½å¿«çš„æ‰¾åˆ°å±€éƒ¨æœ€ä¼˜è§£æˆ–è€…å…¨ä½“æœ€ä¼˜è§£<br>
<strong>æ³¨æ„çš„ç»†èŠ‚ï¼š</strong><br>
æˆ‘ä»¬éœ€è¦åŒæ—¶æ›´æ–°æˆ‘ä»¬çš„Î¸_1ï¼ŒÎ¸_2<br>
ç®—æ³•ä¸­åº”è¯¥å¦‚ä¸‹å›¾çš„æ­¥éª¤<br>
<img src="https://img-blog.csdnimg.cn/20200710204404536.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"><br>
è€Œä¸æ˜¯è¿™æ ·ï¼š<br>
<img src="https://img-blog.csdnimg.cn/20200710204443650.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"><br>
ç„¶åæˆ‘ä»¬æ€è€ƒæ›´æ–°Î¸_1ï¼ŒÎ¸_2è¿™ä¸¤ä¸ªå˜é‡çš„å…¬å¼ï¼Œå¾ˆæ˜æ˜¾æˆ‘ä»¬è¦æ±‚æœ€ä½ç‚¹çš„æ—¶å€™ï¼Œåå¯¼æ•°æ±‚å¯¼æ˜¯ä¸€ä¸ªæ­£æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬è¦å‘ä¸‹èµ°å› æ­¤è¦åŠ è´Ÿå·ï¼Œç¬¬äºŒä¸ªæ±‚å¯¼æ˜¯è´Ÿçš„ï¼Œæˆ‘ä»¬æœ¬èº«å°±æ˜¯è¦å‘ä¸‹èµ°ï¼Œå› æ­¤ä¸ç”¨åŠ ç¬¦å·ï¼Œæ‰€æœ‰æœ€ç»ˆç»“æœéƒ½æ˜¯<img src="https://img-blog.csdnimg.cn/20200710204853333.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"><br>
<img src="https://s-hmily.github.io/post-images/1594775236717.JPG" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy">x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MTc3OTYw,size_16,color_FFFFFF,t_70)<br>
ç„¶åæˆ‘ä»¬å†è€ƒè™‘Î±è¿™ä¸ªæ­¥é•¿ï¼š<br>
Î±å¤ªå°ï¼šå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¦‚æœå¤ªå°äº† å°±ä¼šå¯¼è‡´æˆ‘ä»¬çš„æ­¥æ•°è¶Šæ¥è¶Šå¤šï¼Œæˆ‘ä»¬è¿›è¡Œè¿­ä»£çš„æ¬¡æ•°å°±å¾ˆå¤§ï¼Œå°±ä¼šå¾ˆæµªè´¹æ—¶é—´<br>
Î±å¤ªå¤§ï¼šå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¦‚æœå¤ªå¤§äº†å°±ä¼šå¯¼è‡´æˆ‘ä»¬å¯èƒ½ä¼šè¶…è¿‡æœ€ä½ç‚¹è¿›è€Œæ— æ³•æ”¶æ•›è¶Šæ¥è¶Šåç¦»æ­£ç¡®çš„é“è·¯ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦é€‰å®šåˆé€‚çš„Î±<br>
<img src="https://img-blog.csdnimg.cn/20200710205034940.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MTc3OTYw,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"><br>
å¤§è‡´åŸºæœ¬æ€è·¯å°±æ˜¯è¿™æ ·ï¼Œä¹‹åä¼šå†™ä¸€äº›å®é™…çš„åº”ç”¨é—®é¢˜</p>
<p><strong>æ¢¯åº¦ä¸‹é™ç®—æ³•ç”¨äºçº¿æ€§å›å½’</strong></p>
<p><strong>æ‰¹é‡æ¢¯åº¦ä¸‹é™æ³•ï¼ˆBGDï¼‰ï¼šä½¿ç”¨æ‰€æœ‰æ ·æœ¬è¿›è¡Œè®¡ç®—ï¼Œæ…¢ä½†å‡†ç¡®åº¦å¥½</strong><br>
é¦–å…ˆè¦å¯¼å…¥æ•°æ®å’Œå®šä¹‰åˆå§‹çš„å‚æ•°ä»¥åŠé€‰æ‹©åˆé€‚çš„æ­¥é•¿ï¼Œå¦‚ä¸‹å›¾</p>
<pre><code class="language-cpp">import numpy as np
import matplotlib.pyplot as plt
import random
spaces = [150, 200, 250, 300, 350, 400, 600]
prices = [6450, 7450, 8450, 9450, 11450, 15450,18450]
#prices=[]
#for i in range(0,len(spaces)):
     #prices.append(spaces[i]*prices1[i]/10000)         

spaces, prices = np.array(spaces), np.array(prices)



## theta åˆå§‹å€¼
theta0 = 0
theta1 = 0

## å¦‚æœæ­¥é•¿é€‰æ‹©ä¸å¯¹ï¼Œåˆ™ theta å‚æ•°æ›´æ–°ç»“æœä¼šä¸å¯¹
step = 0.0000001

#np.ones()ç”Ÿäº§ä¸€ä¸ªé•¿åº¦è·Ÿspacesä¸€æ ·çš„æ•°ç»„ï¼Œä¸”æ•°ç»„å…ƒç´ ä¸º1ï¼Œå› ä¸ºtheta0ä¸ºå¸¸æ•°
x_i0 = np.ones((len(spaces)))
</code></pre>
<p>å®šä¹‰æŸå¤±å‡½æ•°å’Œtheta 0çš„æŸå¤±å‡½æ•°å’Œtheta 1çš„æŸå¤±å‡½æ•°</p>
<pre><code class="language-cpp"># å‡è®¾å‡½æ•°
def h(x) :
  return theta0 + theta1 * x

# æŸå¤±å‡½æ•°
def calc_error() :
  return np.sum(np.power((h(spaces) - prices),2)) / len(spaces)

# æŸå¤±å‡½æ•°åå¯¼æ•°( theta 0)
def calc_delta0() :
  return step * np.sum((h(spaces) - prices) * x_i0) / len(spaces)

# æŸå¤±å‡½æ•°åå¯¼æ•°( theta 1)
def calc_delta1() :
  return step * np.sum((h(spaces) - prices) * spaces) / len(spaces)
</code></pre>
<p>åˆ©ç”¨æ¢¯åº¦ä¸‹é™ç®—æ³•è¿›è¡ŒåŠ¨æ€æ›´æ–°</p>
<pre><code class="language-cpp">def min1():
    return h(spaces[0])

# å¾ªç¯æ›´æ–° theta å€¼å¹¶è®¡ç®—è¯¯å·®ï¼Œåœæ­¢æ¡ä»¶ä¸º
#  1. è¯¯å·®å°äºæŸä¸ªå€¼
#  2. å¾ªç¯æ¬¡æ•°æ§åˆ¶
k = 0
min11 = 100
while True :
  delta0 = calc_delta0()
  delta1 = calc_delta1()
  theta0 = theta0 - delta0
  theta1 = theta1 - delta1
  plt.figure(1)
  plt.scatter(theta0, theta1, c='y')
  plt.xlabel('theta0')
  plt.ylabel('theta1')
  plt.figure(3)
  error = calc_error()
  plt.scatter(k,error,c='y')
  plt.xlabel('k')
  plt.ylabel('error')
  # print(&quot;delta [%f, %f], theta [%f, %f], error %f&quot; % (delta0, delta1, theta0, theta1, error))
  k = k + 1
  if (k &gt; 500 ) : 
    break


print(&quot; h(x) = %f + %f * x&quot; % (theta0, theta1))
    
# ä½¿ç”¨å‡è®¾å‡½æ•°è®¡ç®—å‡ºæ¥çš„ä»·æ ¼ï¼Œç”¨äºç”»æ‹Ÿåˆæ›²çº¿
y_out = h(spaces)
plt.figure(2)
plt.scatter(spaces, prices, c='g')
plt.plot(spaces, y_out, c='b')
plt.xlabel('house space')
plt.ylabel('house price')
plt.show()
</code></pre>
<p><strong>ç»†èŠ‚å¤„ç†</strong>ï¼š<br>
æˆ‘ä»¬å¹¶ä¸æ˜¯è¯´å¾—åˆ°äº†ç»“æœæ˜¯ä¸€æ¡ç›´çº¿å°±è§‰å¾—å®Œæˆäº†ç›¸å¯¹åº”çš„çº¿æ€§å›å½’ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æŸå¤±å‡½æ•°çš„æŸå¤±æ•°å€¼è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœå¾—åˆ°å¦‚ä¸‹çš„å›¾ï¼Œè¡¨ç¤ºæ‹Ÿåˆåº¦å¾ˆé«˜<br>
<img src="https://img-blog.csdnimg.cn/20200714220237281.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MTc3OTYw,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"><br>
åœ¨æ­¤å¯ä»¥çœ‹åˆ°æŸå¤±å‡½æ•°çš„æ•°å€¼è¶‹è¿‘äº0ä»£è¡¨kåªéœ€è¦200å°±å¯ä»¥äº†ï¼Œå½“ç„¶kè¶Šå¤§å…¶è¯¯å·®è¶Šå°<br>
ç„¶åæˆ‘ä»¬å¯ä»¥ç»§ç»­ç¼–å†™éšæœºæ¢¯åº¦ç®—æ³•</p>
<p><strong>éšæœºæ¢¯åº¦ä¸‹é™æ³•ï¼ˆSGD)ï¼šæ¯æ¬¡ä½¿ç”¨1ä¸ªæ ·æœ¬è¿›è¡Œè®¡ç®—,å¿«ä½†å‡†ç¡®åº¦æ¬ ç¼º</strong><br>
ç„¶åä¼ªä»£ç å¦‚ä¸‹</p>
<pre><code class="language-cpp">## theta åˆå§‹å€¼
theta0 = 0
theta1 = 0

## å¦‚æœæ­¥é•¿é€‰æ‹©ä¸å¯¹ï¼Œåˆ™ theta å‚æ•°æ›´æ–°ç»“æœä¼šä¸å¯¹
step = 0.0000015

x_i0 = np.ones((len(spaces)))

# å‡è®¾å‡½æ•°

def h(x) :
  return theta0 + theta1 * x

# æŸå¤±å‡½æ•°
def calc_error() :
  return np.sum(np.power((h(spaces) - prices),2)) / len(spaces)

# æŸå¤±å‡½æ•°åå¯¼æ•°( theta 0)
def calc_delta0() :
  return step * (h(i) - prices[i])

# æŸå¤±å‡½æ•°åå¯¼æ•°( theta 1)
def calc_delta1() :
  return step * (h(i) - prices[i]) * i 

# å¾ªç¯æ›´æ–° theta å€¼å¹¶è®¡ç®—è¯¯å·®ï¼Œåœæ­¢æ¡ä»¶ä¸º
#  1. è¯¯å·®å°äºæŸä¸ªå€¼
#  2. å¾ªç¯æ¬¡æ•°æ§åˆ¶
k = 0

while True :
  i = random.randint(0,6)
  delta0 = calc_delta0()
  delta1 = calc_delta1()
  theta0 = theta0 - delta0
  theta1 = theta1 - delta1
  plt.figure(1)
  plt.scatter(theta0, theta1,c='g')
  plt.xlabel('theta0')
  plt.ylabel('theta1')
  error = calc_error()
  plt.figure(4)
  plt.scatter(k,error,c='y')
  plt.xlabel('k')
  plt.ylabel('error')
  # print(&quot;delta [%f, %f], theta [%f, %f], error %f&quot; % (delta0, delta1, theta0, theta1, error))
  k = k + 1
  if (k &gt; 500 ) : 
    break


print(&quot; h(x) = %f + %f * x&quot; % (theta0, theta1))
    
# ä½¿ç”¨å‡è®¾å‡½æ•°è®¡ç®—å‡ºæ¥çš„ä»·æ ¼ï¼Œç”¨äºç”»æ‹Ÿåˆæ›²çº¿
y_out1 = h(spaces)
plt.figure(2)
plt.plot(spaces, y_out1)
plt.show()
</code></pre>
<p>éšæœºæ¢¯åº¦ç®—æ³•çš„æ ¸å¿ƒå°±æ˜¯ ç”¨å•ä¸ªæ ·æœ¬çš„æ•°å€¼ä»£æ›¿æ•´ä½“æ ·æœ¬çš„æ•°å€¼ï¼Œä¼˜ç‚¹å°±æ˜¯é€Ÿåº¦å¿«ä½†æ˜¯ç²¾åº¦å¾ˆæ¬ ç¼ºï¼Œæ‰€ä»¥éœ€è¦å¤škæ¬¡çš„è¿è¡Œ<br>
æˆ‘ä»¬ä¾æ—§ç”»å‡ºæŸå¤±å‡½æ•°è·Ÿkçš„å…³ç³»ï¼Œå¦‚ä¸‹å›¾<img src="https://img-blog.csdnimg.cn/20200714221241836.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MTc3OTYw,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"><br>
æˆ‘ä»¬å¾ˆæ˜æ˜¾çš„å¯ä»¥çœ‹å‡ºæ¥ç”¨æ‰¹é‡æ¢¯åº¦ç®—æ³•æ˜¯å¾ªç¯200æ¬¡ï¼Œè€Œåˆ©ç”¨éšæœºæ¢¯åº¦ç®—æ³•éœ€è¦è¿›è¡Œ500æ¬¡ï¼Œä½†æ˜¯è¿›è¡Œçš„æ¬¡æ•°å¿«ï¼Œæ¯æ¬¡éƒ½æ˜¯é€‰ä¸€ä¸ªæ ·æœ¬è¿›è¡Œä¼°è®¡ï¼Œå½“ç„¶æˆ‘åœ¨è¿™æ¬¡ç¼–ç¨‹ä¸­å…¶æ­¥æ•°æ²¡æœ‰ç»Ÿä¸€ï¼Œå› æ­¤å…¶å‚è€ƒä»·å€¼å¹¶æ²¡æœ‰å¤ªå¤§çš„æ„ä¹‰ã€‚</p>
<p>æœ€åå®Œæ•´çš„ä»£ç å¦‚ä¸‹</p>
<pre><code class="language-cpp">import numpy as np
import matplotlib.pyplot as plt
import random
spaces = [150, 200, 250, 300, 350, 400, 600]
prices = [6450, 7450, 8450, 9450, 11450, 15450,18450]
#prices=[]
#for i in range(0,len(spaces)):
     #prices.append(spaces[i]*prices1[i]/10000)         

spaces, prices = np.array(spaces), np.array(prices)



## theta åˆå§‹å€¼
theta0 = 0
theta1 = 0

## å¦‚æœæ­¥é•¿é€‰æ‹©ä¸å¯¹ï¼Œåˆ™ theta å‚æ•°æ›´æ–°ç»“æœä¼šä¸å¯¹
step = 0.0000001

#np.ones()ç”Ÿäº§ä¸€ä¸ªé•¿åº¦è·Ÿspacesä¸€æ ·çš„æ•°ç»„ï¼Œä¸”æ•°ç»„å…ƒç´ ä¸º1ï¼Œå› ä¸ºtheta0ä¸ºå¸¸æ•°
x_i0 = np.ones((len(spaces)))

# å‡è®¾å‡½æ•°
def h(x) :
  return theta0 + theta1 * x

# æŸå¤±å‡½æ•°
def calc_error() :
  return np.sum(np.power((h(spaces) - prices),2)) / len(spaces)

# æŸå¤±å‡½æ•°åå¯¼æ•°( theta 0)
def calc_delta0() :
  return step * np.sum((h(spaces) - prices) * x_i0) / len(spaces)

# æŸå¤±å‡½æ•°åå¯¼æ•°( theta 1)
def calc_delta1() :
  return step * np.sum((h(spaces) - prices) * spaces) / len(spaces)

def min1():
    return h(spaces[0])

# å¾ªç¯æ›´æ–° theta å€¼å¹¶è®¡ç®—è¯¯å·®ï¼Œåœæ­¢æ¡ä»¶ä¸º
#  1. è¯¯å·®å°äºæŸä¸ªå€¼
#  2. å¾ªç¯æ¬¡æ•°æ§åˆ¶
k = 0
min11 = 100
while True :
  delta0 = calc_delta0()
  delta1 = calc_delta1()
  theta0 = theta0 - delta0
  theta1 = theta1 - delta1
  plt.figure(1)
  plt.scatter(theta0, theta1, c='y')
  plt.xlabel('theta0')
  plt.ylabel('theta1')
  plt.figure(3)
  error = calc_error()
  plt.scatter(k,error,c='y')
  plt.xlabel('k')
  plt.ylabel('error')
  # print(&quot;delta [%f, %f], theta [%f, %f], error %f&quot; % (delta0, delta1, theta0, theta1, error))
  k = k + 1
  if (k &gt; 500 ) : 
    break


print(&quot; h(x) = %f + %f * x&quot; % (theta0, theta1))
    
# ä½¿ç”¨å‡è®¾å‡½æ•°è®¡ç®—å‡ºæ¥çš„ä»·æ ¼ï¼Œç”¨äºç”»æ‹Ÿåˆæ›²çº¿
y_out = h(spaces)
plt.figure(2)
plt.scatter(spaces, prices, c='g')
plt.plot(spaces, y_out, c='b')
plt.xlabel('house space')
plt.ylabel('house price')
plt.show()


## theta åˆå§‹å€¼
theta0 = 0
theta1 = 0

## å¦‚æœæ­¥é•¿é€‰æ‹©ä¸å¯¹ï¼Œåˆ™ theta å‚æ•°æ›´æ–°ç»“æœä¼šä¸å¯¹
step = 0.0000015

x_i0 = np.ones((len(spaces)))

# å‡è®¾å‡½æ•°

def h(x) :
  return theta0 + theta1 * x

# æŸå¤±å‡½æ•°
def calc_error() :
  return np.sum(np.power((h(spaces) - prices),2)) / len(spaces)

# æŸå¤±å‡½æ•°åå¯¼æ•°( theta 0)
def calc_delta0() :
  return step * (h(i) - prices[i])

# æŸå¤±å‡½æ•°åå¯¼æ•°( theta 1)
def calc_delta1() :
  return step * (h(i) - prices[i]) * i 

# å¾ªç¯æ›´æ–° theta å€¼å¹¶è®¡ç®—è¯¯å·®ï¼Œåœæ­¢æ¡ä»¶ä¸º
#  1. è¯¯å·®å°äºæŸä¸ªå€¼
#  2. å¾ªç¯æ¬¡æ•°æ§åˆ¶
k = 0

while True :
  i = random.randint(0,6)
  delta0 = calc_delta0()
  delta1 = calc_delta1()
  theta0 = theta0 - delta0
  theta1 = theta1 - delta1
  plt.figure(1)
  plt.scatter(theta0, theta1,c='g')
  plt.xlabel('theta0')
  plt.ylabel('theta1')
  error = calc_error()
  plt.figure(4)
  plt.scatter(k,error,c='y')
  plt.xlabel('k')
  plt.ylabel('error')
  # print(&quot;delta [%f, %f], theta [%f, %f], error %f&quot; % (delta0, delta1, theta0, theta1, error))
  k = k + 1
  if (k &gt; 500 ) : 
    break


print(&quot; h(x) = %f + %f * x&quot; % (theta0, theta1))
    
# ä½¿ç”¨å‡è®¾å‡½æ•°è®¡ç®—å‡ºæ¥çš„ä»·æ ¼ï¼Œç”¨äºç”»æ‹Ÿåˆæ›²çº¿
y_out1 = h(spaces)
plt.figure(2)
plt.plot(spaces, y_out1)
plt.show()
</code></pre>
<p>ç»“æœåˆ†æï¼š<br>
<img src="https://img-blog.csdnimg.cn/20200714221515593.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MTc3OTYw,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"><br>
è“è‰²ç›´çº¿æ˜¯åˆ©ç”¨æ‰¹é‡æ¢¯åº¦ç®—æ³•è¿›è¡Œçš„æ‹Ÿåˆï¼Œå¦ä¸€æ¡ç›´çº¿æ˜¯éšæœºæ¢¯åº¦ç®—æ³•è¿›è¡Œçš„æ‹Ÿåˆ<br>
å…¶æ¯æ¬¡å˜åŒ–çš„å¿«æ…¢å¯ä»¥é€šè¿‡theta0å’Œtheta1çš„å…³ç³»è¿›è¡Œå±•ç¤º<img src="https://img-blog.csdnimg.cn/20200714221643175.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MTc3OTYw,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"><br>
å½“ç„¶è¿™ä»…ä»…åªæ˜¯å‚è€ƒï¼Œå¯¹äºä¸åŒçš„æ­¥æ•°ï¼ˆå­¦ä¹ ç‡ï¼‰ä¼šæœ‰ä¸åŒçš„ç»“æœ<br>
ä»¥ä¸‹æ˜¯ä¸‰ç§æ¢¯åº¦ä¸‹é™ç®—æ³•çš„ç‰¹ç‚¹ï¼š</p>
<p><strong>æ‰¹é‡æ¢¯åº¦ä¸‹é™æ³•ï¼ˆBGDï¼‰ï¼šä½¿ç”¨æ‰€æœ‰æ ·æœ¬è¿›è¡Œè®¡ç®—ï¼Œæ…¢ä½†å‡†ç¡®åº¦å¥½<br>
éšæœºæ¢¯åº¦ä¸‹é™æ³•ï¼ˆSGD)ï¼šæ¯æ¬¡ä½¿ç”¨1ä¸ªæ ·æœ¬è¿›è¡Œè®¡ç®—,å¿«ä½†å‡†ç¡®åº¦æ¬ ç¼º<br>
å°æ‰¹é‡æ¢¯åº¦ä¸‹é™æ³•ï¼šæ¯æ¬¡ä½¿ç”¨aä¸ªæ ·æœ¬è¿›è¡Œè®¡ç®—ï¼Œæ˜¯BGDå’ŒSGDçš„æŠ˜ä¸­æ–¹æ¡ˆ</strong></p>
 </p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12 animate-box">
                        
                            <div class="next-post">
                                <div class="next">ä¸‹ä¸€ç¯‡</div>
                                <a href="https://s-hmily.github.io/post/ji-yu-ju-zhen-fen-jie-de-tui-jian-suan-fa/">
                                    <h3 class="post-title">
                                        åŸºäºçŸ©é˜µåˆ†è§£çš„æ¨èç®—æ³•
                                    </h3>
                                </a>
                            </div>
                        
                    </div>
                </div>

                <div class="row">
    <div class="col-md-12 animate-box">
        
    </div>
</div>

            </div>

        </article>
    </div>
</div>

    

    <!-- è¿”å›é¡¶éƒ¨ -->
    <div class="back-to-top">
    
    <a href="#top" class="hidden-xs hidden-sm"><i class="fa fa-paper-plane"></i></a>
</div>

<div class="post-toc animated fadeInRight hidden-xs hidden-sm" style="display: none;">
    
</div>


    
<footer id="fh5co-footer">
  <p>Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a></p>
</footer>


    <!-- jQuery -->
<script src="https://s-hmily.github.io/media/scripts/jquery.min.js"></script>
<!-- img lazy load -->
<script src="https://s-hmily.github.io/media/scripts/jquery.lazyload.min.js"></script>
<!-- jQuery Easing -->
<script src="https://s-hmily.github.io/media/scripts/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="https://s-hmily.github.io/media/scripts/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="https://s-hmily.github.io/media/scripts/jquery.waypoints.min.js"></script>
<!-- Main JS -->
<script src="https://s-hmily.github.io/media/scripts/main.js"></script>
<!-- Md5 Min JS -->
<script src="https://s-hmily.github.io/media/scripts/md5.min.js"></script>
<!-- katex -->
<!--<script src="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.js"></script>-->
<!-- highlight -->
<script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script>


<script type="application/javascript">
    // ä»£ç é«˜äº®
    hljs.initHighlightingOnLoad();

    // img æ‡’åŠ è½½
    $(function () {
        $("img.lazy").lazyload({
            effect: "fadeIn",  // æ‡’åŠ è½½åŠ¨ç”»
            threshold: 180  // åœ¨å›¾ç‰‡è·ç¦»å±å¹•180pxæ—¶æå‰è½½å…¥
        });
        // tooltip
        $('[data-toggle="tooltip"]').tooltip();

        // ç›®å½•
        $('#tool-toc').click(function () {
            $('.post-toc').toggle();
        });
    });

    
</script>




</body>
</html>
